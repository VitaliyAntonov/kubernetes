
Давайте проверим, что наше приложение работает. Мы будем использовать команду kubectl get и искать существующие поды:

	kubectl get pods

![[Pasted image 20221121154200.png]]

Если модули не запущены, это означает, что интерактивная среда все еще перезагружает свое предыдущее состояние. Пожалуйста, подождите пару секунд и снова выведите список модулей. Вы можете продолжить, как только увидите, что работает один Pod.

Далее перечислим текущие Сервисы из нашего кластера:

	kubectl get services

![[Pasted image 20221121153933.png]]

У нас есть служба под названием kubernetes, которая создается по умолчанию, когда minikube запускает кластер. Чтобы создать новый сервис и открыть его для внешнего трафика, мы будем использовать команду expose с NodePort в качестве параметра (minikube пока не поддерживает опцию LoadBalancer).

	kubectl expose deployment/kubernetes-bootcamp --type="NodePort" --port 8080

Давайте снова запустим команду get services:

	kubectl get services

![[Pasted image 20221121154502.png]]

Теперь у нас есть работающая служба под названием kubernetes-bootcamp. Здесь мы видим, что Сервис получил уникальный IP-адрес кластера, внутренний порт и внешний IP-адрес (IP-адрес узла).

Чтобы узнать, какой порт был открыт извне (параметром NodePort), запустим сервисную команду описания:

	kubectl describe services/kubernetes-bootcamp

![[Pasted image 20221121154807.png]]

Создайте переменную среды с именем NODE_PORT, которой присвоено значение порта узла:

	export NODE_PORT=$(kubectl get services/kubernetes-bootcamp -o go-template='{{(index .spec.ports 0).nodePort}}')
	
	echo NODE_PORT=$NODE_PORT

![[Pasted image 20221121155334.png]]

Теперь мы можем проверить, доступно ли приложение за пределами кластера, используя curl, IP-адрес узла и внешний порт:

	curl $(minikube ip):$NODE_PORT

![[Pasted image 20221121160730.png]]

И получаем ответ от сервера. Сервис раскрыт.


